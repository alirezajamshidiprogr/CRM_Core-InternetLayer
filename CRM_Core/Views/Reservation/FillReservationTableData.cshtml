@using CRM_Core.Application.GridViewModels
@using CRM_Core.Application.ViewModels.CustomViewModel

@model DataGridViewModel<ReservationViewModel>

@{
    int pageNumber = ViewBag.pageNumber == null ? 0 : (int)ViewBag.pageNumber;
    int totalAllRecords = ViewBag.totalAllRecords == null ? 0 : (int)ViewBag.totalAllRecords;
    int rowNum = 1;
    <grid-view style="height:419px;margin-top:0%;" total-rows-count="totalAllRecords" page-number="pageNumber" action-name="showReservationList">
        <gridView-body>
            <grid-rows-body is-header="true" width="1480">
                <header-gridview width="200" header-field-name="@UI_Presentation.wwwroot.Resources.Buttons.Title.Actions"></header-gridview>
                <header-gridview width="50" header-field-name="@UI_Presentation.wwwroot.Resources.General.Title.RowNum"></header-gridview>
                <header-gridview width="208" header-field-name="@UI_Presentation.wwwroot.Resources.Reservation.Title.CustomerName"></header-gridview>
                <header-gridview width="122" header-field-name="@UI_Presentation.wwwroot.Resources.People.Title.SystemCode"></header-gridview>
                <header-gridview width="110" header-field-name="@UI_Presentation.wwwroot.Resources.Reservation.Title.Date"></header-gridview>
                <header-gridview width="80" header-field-name="@UI_Presentation.wwwroot.Resources.Reservation.Title.FromTimeOrder"></header-gridview>
                <header-gridview width="80" header-field-name="@UI_Presentation.wwwroot.Resources.Reservation.Title.ToTimeOrder"></header-gridview>
                <header-gridview width="114" header-field-name="@UI_Presentation.wwwroot.Resources.Reservation.Title.Fee"></header-gridview>
                <header-gridview width="136" header-field-name="@UI_Presentation.wwwroot.Resources.Reservation.Title.PaidType"></header-gridview>
                <header-gridview width="150" header-field-name="@UI_Presentation.wwwroot.Resources.Reservation.Title.Services"></header-gridview>
            </grid-rows-body>

            @if (Model == null) return;

            @foreach (var item in Model.Records.ToList())
            {
                <grid-rows-body width="1480">

                    <grid-rows-buttons style="width:200px;" is-edit-mode="true" is-print-mode="true" on-delete-button-action="btnDeleteReservation()" on-edit-button-action="btnOpenEditReservation()"> 
                    </grid-rows-buttons>

                    <grid-rows-data visible="false" field-value="@item.PeopleId"></grid-rows-data>
                    <grid-rows-data width="50" field-value="@rowNum"></grid-rows-data>
                    <grid-rows-data width="208" field-value="@item.FullName"></grid-rows-data>
                    <grid-rows-data width="122" field-value="@item.SystemCode"></grid-rows-data>
                    <grid-rows-data width="110" field-value="@item.ReservationDate"></grid-rows-data>
                    <grid-rows-data width="80" field-value="@item.FromTime"></grid-rows-data>
                    <grid-rows-data width="80" field-value="@item.ToTime"></grid-rows-data>
                    <grid-rows-data width="114" field-value="@item.Price"></grid-rows-data>
                    <grid-rows-data width="136" field-value="@item.PayType"></grid-rows-data>
                    <grid-rows-data width="150" field-value="@item.TBASServicesValues"></grid-rows-data>
                </grid-rows-body>
                rowNum = rowNum + 1;
            }
            
        </gridView-body>
        <gridView-pagination></gridView-pagination>
        <gridView-footer>
            <grid-footer-dataItem title="@UI_Presentation.wwwroot.Resources.Reservation.Title.TodayReservationCount" value="124"></grid-footer-dataItem>
            <grid-footer-dataItem title="@UI_Presentation.wwwroot.Resources.Reservation.Title.TotalTodayReservationPrice" value="124"></grid-footer-dataItem>
            <grid-footer-dataItem title="@UI_Presentation.wwwroot.Resources.Reservation.Title.TotalReservationPrice" value="124"></grid-footer-dataItem>
        </gridView-footer>
    </grid-view>

}