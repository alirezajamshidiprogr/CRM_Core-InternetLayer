@using System.Data
@using CRM_Core.Application.GridViewModels
@using CRM_Core.Application.ViewModels.People

@model DataGridViewModel<PeopleModel>

@{
    bool isSelectMode = TempData["IsSelectMode"] == string.Empty ? false : Convert.ToBoolean(TempData["IsSelectMode"]);
    bool isSelectedMode = isSelectMode;
    bool isEditMode = ViewBag.isEditMode == null ? false : (bool)ViewBag.isEditMode;
    bool isPrintMode = ViewBag.isPrintMode == null ? false : (bool)ViewBag.isPrintMode;
    int pageNumber = ViewBag.pageNumber == null ? 0 : (int)ViewBag.pageNumber;
    int totalAllRecords = ViewBag.totalAllRecords == null ? 0 : (int)ViewBag.totalAllRecords;
    int rowNum = pageNumber == 0 ? 1 : pageNumber * (10 + 1);
    string styleGrid = !isSelectedMode ? "margin-top:0%;" : "margin-top:47px;";

    <grid-view style="@styleGrid" total-rows-count="totalAllRecords" page-number="pageNumber" action-name="showPeopleList">

        <gridView-body>
            <grid-rows-body width="2055" is-header="true">
                <header-gridview width="180" header-field-name="@UI_Presentation.wwwroot.Resources.Buttons.Title.Actions"></header-gridview>
                <header-gridview width="50" header-field-name="@UI_Presentation.wwwroot.Resources.General.Title.RowNum"></header-gridview>
                <header-gridview width="226" header-field-name="@UI_Presentation.wwwroot.Resources.People.Title.PeopleProperty"></header-gridview>
                <header-gridview width="135" header-field-name="@UI_Presentation.wwwroot.Resources.People.Title.ManualCode"></header-gridview>
                <header-gridview width="135" header-field-name="@UI_Presentation.wwwroot.Resources.People.Title.SystemCode"></header-gridview>
                <header-gridview width="110" header-field-name="@UI_Presentation.wwwroot.Resources.People.Title.Category"></header-gridview>
                <header-gridview width="132" header-field-name="@UI_Presentation.wwwroot.Resources.People.Title.Tel"></header-gridview>
                <header-gridview width="150" header-field-name="@UI_Presentation.wwwroot.Resources.People.Title.Mobile"></header-gridview>
                <header-gridview width="100" header-field-name="@UI_Presentation.wwwroot.Resources.People.Title.BirthDay"></header-gridview>
                <header-gridview width="100" header-field-name="@UI_Presentation.wwwroot.Resources.People.Title.IsMarried"></header-gridview>
                <header-gridview width="65" header-field-name="@UI_Presentation.wwwroot.Resources.People.Title.Age"></header-gridview>
                <header-gridview width="110" header-field-name="@UI_Presentation.wwwroot.Resources.People.Title.Graduation"></header-gridview>
                <header-gridview width="100" header-field-name="@UI_Presentation.wwwroot.Resources.People.Title.Potential"></header-gridview>
                <header-gridview width="100" header-field-name="@UI_Presentation.wwwroot.Resources.People.Title.Intorduction"></header-gridview>
                <header-gridview width="250" header-field-name="@UI_Presentation.wwwroot.Resources.People.Title.Address"></header-gridview>
            </grid-rows-body>

            @if (Model == null) return;

            @foreach (var item in Model.Records.ToList())
            {
                <grid-rows-body width="2055">
                    @if (isEditMode)
                    {

                    }

                    @if (isSelectedMode)
                    {

                    }

                    @if (isPrintMode)
                    {

                    }
                    <grid-rows-data visible="false" id="PeopleId" field-value="@item.Id"></grid-rows-data>
                    <grid-rows-buttons style="width:180px;"
                                       is-select-mode="@isSelectedMode ? true : false"
                                       on-delete-button-action="btnDeletePeople(this)"
                                       on-edit-button-action="btnOpenEditPeople(this)"
                                       is-edit-mode="@isEditMode"
                                       on-select-button-ation="btnselectPeopleClick()">

                    </grid-rows-buttons>
                    <grid-rows-data width="50" field-value="@rowNum"></grid-rows-data>
                    <grid-rows-data width="226" field-value="@item.FullName"></grid-rows-data>
                    <grid-rows-data width="135" field-value="@item.ManualCode"></grid-rows-data>
                    <grid-rows-data width="135" field-value="@item.SystemCode"></grid-rows-data>
                    <grid-rows-data width="110" field-value="@item.TBASCategoryName"></grid-rows-data>
                    <grid-rows-data width="132" field-value="@item.Tel"></grid-rows-data>
                    <grid-rows-data width="150" field-value="@item.Mobile"></grid-rows-data>
                    <grid-rows-data width="100" field-value="@item.P_Birthday"></grid-rows-data>
                    <grid-rows-data width="100" field-value="@item.MarriedType"></grid-rows-data>
                    <grid-rows-data width="65" field-value="@item.Age"></grid-rows-data>
                    <grid-rows-data width="110" field-value="@item.TBASGraduationName"></grid-rows-data>
                    <grid-rows-data width="100" field-value="@item.TBASPotentialName"></grid-rows-data>
                    <grid-rows-data width="100" field-value="@item.TBASIntroduceName"></grid-rows-data>
                    <grid-rows-data width="250" field-value="@item.Address"></grid-rows-data>
                </grid-rows-body>

                rowNum = rowNum + 1;
            }
        </gridView-body>

        <gridView-pagination></gridView-pagination>

    </grid-view>
}

